<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crud</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <div class="container">
        <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
            <a href="/"
                class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
                <span class="fs-4">User Cards</span>
            </a>
        </header>
    </div>
    <div class="container py-5">
        <div class="row">
            <% users.forEach((user) => { %>
            <div class="col-3 pb-4">
                <div class="card border-<%= user.theme %>">
                    <div class="card-header"><%= user.job %></div>
                    <div class="card-body">
                        <h5 class="card-title"><%= user.name %> (00<%= user.id %>)</h5>
                        <p class="card-text">Some quick example text to build on the card title and make up the bulk of
                            the
                            card's
                            content.</p>
                        <a href="/" class="card-link link-edit" data-bs-toggle="modal" data-bs-target="#editModal"
                            data-replace-action="/edit/<%= user.id %>" data-form-name="<%= user.name %>"
                            data-form-job="<%= user.job %>" data-form-theme="<%= user.theme %>" role="button">Edit</a>
                        <a href="/" class="card-link link-delete" data-bs-toggle="modal" data-bs-target="#deleteModal"
                            data-replace-action="/delete/<%= user.id %>" role="button">Delete</a>
                    </div>
                </div>
            </div>
            <% }) %>
        </div>
        <div class="btn-container position-fixed bottom-0 end-0 p-5">
            <a href="/" class="btn btn-primary d-flex rounded-circle p-3" data-bs-toggle="modal"
                data-bs-target="#addModal" role="button">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg"
                    viewBox="0 0 16 16">
                    <path fill-rule="evenodd"
                        d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2" />
                </svg>
            </a>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="addModalLabel">Add user data</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="/add" method="post">
                            <div class="mb-3">
                                <label for="addName" class="col-form-label">Name:</label>
                                <input type="text" class="form-control" id="addName" name="name" required>
                            </div>
                            <div class="mb-3">
                                <label for="addJob" class="col-form-label">Job:</label>
                                <textarea class="form-control" id="addJob" name="job" required></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="addTheme" class="col-form-label">Theme:</label>
                                <select name="theme" id="addTheme" class="form-select mb-3 text-capitalize"
                                    aria-label="Select theme" required>
                                    <option value="primary">primary</option>
                                    <option value="secondary">secondary</option>
                                    <option value="success">success</option>
                                    <option value="danger">danger</option>
                                    <option value="warning">warning</option>
                                    <option value="info">info</option>
                                    <option value="dark">dark</option>
                                </select>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="editModalLabel">Edit user data</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="" method="POST" id="formEdit">
                            <div class="mb-3">
                                <label for="editName" class="col-form-label">Name:</label>
                                <input type="text" class="form-control" id="editName" name="name">
                            </div>
                            <div class="mb-3">
                                <label for="editJob" class="col-form-label">Job:</label>
                                <textarea class="form-control" id="editJob" name="job"></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="editTheme" class="col-form-label">Theme:</label>
                                <select name="theme" id="editTheme" class="form-select mb-3 text-capitalize"
                                    aria-label="Select theme" required>
                                    <option value="primary">primary</option>
                                    <option value="secondary">secondary</option>
                                    <option value="success">success</option>
                                    <option value="danger">danger</option>
                                    <option value="warning">warning</option>
                                    <option value="info">info</option>
                                    <option value="dark">dark</option>
                                </select>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <form>
                                    <button type="submit" class="btn btn-primary">Save changes</button>
                                </form>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <p>Are you sure you want to delete the user?</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <form action="" method="post" id="formDelete">
                            <button class="btn btn-danger" type="submit">Delete</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
    </script>
    <script src="/js/index.js"></script>
</body>

</html>